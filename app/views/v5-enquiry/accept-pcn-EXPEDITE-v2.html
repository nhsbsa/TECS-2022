{% extends 'layout.html' %}

{% set title = 'Review your penalty charge' %}

{% set freeStuff = 'free NHS prescriptions' %}
{% if data.settings[version].type === 'decs' %}
  {% set freeStuff = 'free or reduced cost NHS dental treatment' %}
{% endif %}

{% block pageTitle %}
    {{ title }}
{% endblock %}


{% block beforeContent %}
    {{ backLink({
        text: 'Go back',
        href: 'javascript:history.back();'
    }) }}
{% endblock %}


{% block content %}
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-two-thirds">

    <h1 class="nhsuk-heading-l">{{ title }}</h1>

    {% set errorMessageText = 'Tick to accept your penalty charge and confirm you understand you must a payment within 31 days' %}

    {% if data.showErrors === 'true' %}
        {{ errorSummary({
        titleText: 'There is a problem',
        errorList: [
                {
                    text: errorMessageText,
                    href: '#acceptPCNDeclaration-1'
                }
            ]
        }) }}
    {% endif %}

    {{ warningCallout({
        heading: 'Important information',
        HTML: '<p>If you accept your penalty charge today, you must make a payment or set up a Direct Debit within 31 days. If you do not, an extra surcharge of up to £50 may be added to these charges.</p>'
    }) }}


        <div class="nhsuk-card">
            <div class="nhsuk-card__content">

                <h3 class="nhsuk-heading-m">Penalty Charge Notice amount</h3>
 
            {% if data.settings[version].type === 'decs' %}

                <!-- DECS -->
                {% set summaryListRows = [
                    {
                      key: { text: 'Dental treatment charges' },
                      value: { text: '£75.30' }
                    },
                    {
                      key: { text: 'Penalty charge' },
                      value: { text: '£50.00' }
                    },
                    {
                      key: { text: 'Total amount to pay' },
                      value: { html: '<strong>£125.30</strong>' }
                }]%} 

                {{ summaryList({
                    rows: summaryListRows
                }) }}

                <p class="nhsuk-heading-l nhsuk-u-margin-bottom-0">Amount to pay: £125.30</p>

            {% else %}

                <!-- PECS -->
                {% set summaryListRows = [
                    {
                      key: { text: 'Prescription charges' },
                      value: { text: '£9.90' }
                    },
                    {
                      key: { text: 'Penalty charge' },
                      value: { text: '£50.00' }
                    },
                    {
                      key: { text: 'Total amount to pay' },
                      value: { html: '<strong>£59.90</strong>' }
                }]%} 

                {{ summaryList({
                    rows: summaryListRows
                }) }}

                <p class="nhsuk-heading-l nhsuk-u-margin-bottom-0">Amount to pay: £59.90</p>

            {% endif%}

            </div>
        </div>





        <form action="accept-pcn-EXPEDITE-v2" method="post" novalidate>

            {% set errorMessage = '' %}
            {% if data.showErrors === 'true' %}
                {% set errorMessage = { text: errorMessageText } %}
            {% endif %}

            {{ checkboxes({
                idPrefix: 'acceptPCNDeclaration',
                name: 'acceptPCNDeclaration',
                id: 'acceptPCNDeclaration',
                values: data.acceptPCNDeclaration,
                errorMessage: errorMessage,
                fieldset: {
                    legend: {
                        text: 'Accept the penalty charge',
                        isPageHeading: false,
                        classes: 'nhsuk-fieldset__legend--m'
                    }
                },
                hint: {
                    text: 'Before accepting your penalty charge, you must confirm the following:'
                },
                items: [
                    {
                        value: 'acceptCharge',
                        text: 'I was not entitled to '+freeStuff+' and accept my penalty charge'
                    },
                    {
                        value: 'acceptTiming',
                        text: 'I understand that I must make a payment or set up a Direct Debit within 31 days from today'
                    }
                ]
            }) }}

            {{ button({
                text: 'Accept penalty charge'
            }) }}

        </form>


        {{ actionLink({
            href: 'enquiry-letter-details',
            text: 'I do not want to accept the penalty charge now',
            classes: 'nhsuk-u-margin-top-6'
        }) }}

        <!--<p class="nhsuk-body nhsuk-u-margin-top-6"><a href="enquiry-letter-details" class="nhsuk-link">Do not accept penalty charge</a></p>-->

    


    </div>
</div>

    {% endblock %}